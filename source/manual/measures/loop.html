---
layout: docs
permalink: manual/measures/loop/
title: 'Loop measure'
---
<p><code>Measure=Loop</code> Creates a looping counter between two values.</p>

<p>The measure will be the value of <code>StartValue</code> for one update, will increment based on the value of <code>Increment</code> on each subsequent update, and will be the value of <code>EndValue</code> for one update. If <code>LoopCount</code> is other than <code>1</code>, the loop will then repeat.</p>

<p>On each loop, if the value of <code>Increment</code> is such that the final increment would cause the value to overrun the value of <code>EndValue</code>, the final increment will be reduced to the remainder required to have the loop end at <code>EndValue</code>.</p>

<p>The measure will have a range that is the difference between <code>StartValue</code> and <code>EndValue</code> for use by meters requiring a <a href="!measures/#Percentage">percentage</a>. There cannot be a negative percentage, so the range will always be lowest value to highest value.</p>

<p>Any dynamic change to any of the four measure options, or dynamically changing <a href="!measures/general-options/#InvertMeasure">InvertMeasure</a> on the measure, will cause the loop to be reset and start over with the new values.</p> 

<div class="alert alert-warning alert-tight" role="alert">
	<h2 class="alert-heading h5" id="WholeNumberAlert"><i class="fa-solid fa-bomb"></i> Alert:</h2>
	<p>All options must be positive or negative whole numbers, or formulas that resolve to whole numbers. Fractional values will be truncated.</p>
</div>

<h2>Options</h2>
<dl>
	<dt>General measure options</dt>
	<dd>
		All <a href="!measures/general-options/">general measure options</a> except <code>AverageSize</code> are valid. <code>MinValue</code> and <code>MaxValue</code> are automatically set based on <code>StartValue</code> and <code>EndValue</code>, and may not be manually set or changed.
	</dd>

	<dt id="StartValue"><code>StartValue</code> <small>Default: <code>1</code></small></dt>
	<dd>
		<p>The starting value for the loop. This may be any positive or negative whole number.</p>
	</dd>

	<dt id="EndValue"><code>EndValue</code> <small>Default: <code>100</code></small></dt>
	<dd>
		<p>The ending value for the loop. This may be any positive or negative whole number.</p>
	</dd>

	<dt id="Increment"><code>Increment</code> <small>Default: <code>1</code></small></dt>
	<dd>
		<p>A positive or negative whole number by which the counter will be incremented on each update.</p>
	</dd>
	<dt id="LoopCount"><code>LoopCount</code> <small>Default: <code>0</code></small></dt>
	<dd>
		<p>The number of times the loop will be executed. The default of <code>0</code> will endlessly repeat. When LoopCount is reached, the measure will stop at and maintain the value of the <code>EndValue</code> option.</p>
	</dd>
</dl>

<h2 id="MeasureCommands">Measure Commands</h2>

<p>Commands that can be sent to a Loop measure using the <a href="!bangs/#CommandMeasure">!CommandMeasure</a> bang.</p>

<dl>
	<dt id="CommandMeasureReset"><code>Reset</code></dt>
	<dd>
		<p>This will cause the measure to reset the loop and restart using the current values for all options.</p>

		<p>Example: <code>[!CommandMeasure MeasureName "Reset"]</code></p><br>

	<div class="alert alert-info alert-tight" role="alert">
		<h2 class="alert-heading h5" id="DynamicChangeNote"><i class="fa-solid fa-thumbtack"></i> Note:</h2>
		<p>Any dynamic change to any of the four measure options, or dynamically changing <a href="!measures/general-options/#InvertMeasure">InvertMeasure</a> on the measure, will automatically perform a reset of the loop. In that case, this command would not be required.</p>
	</div>
	</dd>
</dl>

<h2>Examples</h2>
``` ini
[Rainmeter]
Update=1000
DynamicWindowSize=1
AccurateText=1

[MeasureLoop1]
Measure=Loop
StartValue=37
EndValue=59
Increment=1
LoopCount=0

[MeasureLoop2]
Measure=Loop
StartValue=10
EndValue=0
Increment=-1
LoopCount=1

[MeterLoop1]
Meter=String
MeasureName=MeasureLoop1
W=154
H=50
X=77
StringAlign=Center
FontSize=35
FontColor=255,255,255,255
SolidColor=47,47,47,255
Padding=5,5,5,5
AntiAlias=1
LeftMouseUpAction=[!TogglePauseMeasure MeasureLoop1]
MiddleMouseUpAction=[!CommandMeasure MeasureLoop1 "Reset"]

[MeterLoop2]
Meter=String
MeasureName=MeasureLoop2
W=154
H=50
X=77
Y=10R
StringAlign=Center
FontSize=35
FontColor=255,255,255,255
SolidColor=47,47,47,255
Padding=5,5,5,5
AntiAlias=1
LeftMouseUpAction=[!TogglePauseMeasure MeasureLoop2]
MiddleMouseUpAction=[!CommandMeasure MeasureLoop2 "Reset"]
```
<div class="alert alert-info alert-tight" role="alert">
	<h2 class="alert-heading h5" id="InvertNote"><i class="fa-solid fa-thumbtack"></i> Note:</h2>
	<p>If <a href="!measures/general-options/#InvertMeasure">InvertMeasure</a> is set to <code>1</code>, the opposite of the value generated by the loop will be returned. This can have the effect of reversing the direction of the loop. Toggling <code>InvertMeasure</code> with <a href="!bangs/#SetOption">!SetOption</a> can create a "ping-pong" effect with the measure.</p>
</div>

``` ini
[Rainmeter]
Update=500
DynamicWindowSize=1
AccurateText=1

[Variables]
Start=0
End=10
Incr=1

[MeasureLoop]
Measure=Loop
StartValue=#Start#
EndValue=#End#
Increment=#Incr#
LoopCount=1

[MeasurePingPong]
Measure=Calc
IfCondition=MeasureLoop = #End#
IfTrueAction=[!SetOption MeasureLoop InvertMeasure 1][!UpdateMeasure MeasureLoop]
IfCondition2=MeasureLoop = #Start#
IfTrueAction2=[!SetOption MeasureLoop InvertMeasure 0][!UpdateMeasure MeasureLoop]

[MeterLoop]
Meter=String
MeasureName=MeasureLoop
W=154
H=50
X=77
StringAlign=Center
FontSize=35
FontColor=255,255,255,255
SolidColor=47,47,47,255
Padding=5,5,5,5
AntiAlias=1
```
